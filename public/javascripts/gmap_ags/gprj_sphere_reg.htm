<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xmlns:v="urn:schemas-microsoft-com:vml">
<head>
    <meta http-equiv="content-type" content="text/html; charset=utf-8" />
    <title>Google Maps Adapter to ArcGIS Server Map Cache</title>
    <!-- replace your key -->

    <script src="http://maps.google.com/maps?file=api&amp;v=2&amp;key=ABQIAAAAiOIdlCs11aj2JsFS38tclBQfKfnu-mh0q_bJgSL96pCW-X8IuhTkUHKzIl8dkf8AaWQ2-R0nXzUiSg"
        type="text/javascript"></script>
  <!--script type="text/javascript" src="gmap_ags.js"></script-->

 
    <style type="text/css">
             html, body {     margin: 0px;     height: 100%;}
             </style>

    <script type="text/javascript">
    function initialize() {
      if (GBrowserIsCompatible()) {
        var map= new GMap2(document.getElementById("map_canvas"));
        new GKeyboardHandler(map);
// make sure change to your latlng if not in Charlotte, NC.
        map.setCenter(new GLatLng(35.227208, -80.843099), 17);
        map.addControl(new GMapTypeControl());
        map.addControl(new GLargeMapControl  ()); 
        map.addControl(new GScaleControl());
        map.enableDoubleClickZoom();
        map.enableContinuousZoom();
        map.enableScrollWheelZoom();
   
        //map.getMapTypes().length=0;// remove default maps
// create a real projection
	
	var gprj=new GMercatorProjection(20);
//create a layer
        var agsLayer1= new GTileLayer("", 14,18);
        agsLayer1.getTileUrl = function(tile,zoom){
                  var u='/mapcache/Test_CharMercGCS/Layers/_alllayers/L'+('00'+(zoom-0).toString(10)).substring(('00'+(zoom-0).toString(10)).length-2)+'/R'+('00000000'+(tile.y).toString(16)).substring(('00000000'+(tile.y).toString(16)).length-8)+'/C'+('00000000'+tile.x.toString(16)).substring(('00000000'+tile.x.toString(16)).length-8)+'.png';
GLog.write(u);
return u;

        };
agsLayer1.getOpacity = function(){return 0.5};

       var agsMap1 = new GMapType([G_NORMAL_MAP.getTileLayers()[0],agsLayer1],gprj,'Regular Sphere Mercator', {tileSize: 256});
       map.addMapType(agsMap1);
       map.setMapType(agsMap1);
      }
      
      
    }

    </script>

</head>
<body onload="initialize()" onunload="GUnload();">
This samples shows using standard GCS sphere mercator (R=6371000 meters)
   <table>
   <tr><td style="vertical-align:top"> <div id="map_canvas" style="width:512px; height: 512px">
                </div></td><td><pre>
&lt;?xml version="1.0" encoding="utf-8" ?&gt;
&lt;TileCacheInfo xsi:type='typens:TileCacheInfo' 
			   xmlns:xsi='http://www.w3.org/2001/XMLSchema-instance' 
			   xmlns:xs='http://www.w3.org/2001/XMLSchema' 
			   xmlns:typens='http://www.esri.com/schemas/ArcGIS/9.2'&gt;
	&lt;SpatialReference xsi:type='typens:ProjectedCoordinateSystem'&gt;
		   &lt;WKT&gt;PROJCS[&quot;Sphere_Mercator&quot;,GEOGCS[&quot;GCS_Sphere&quot;,DATUM[&quot;D_Sphere&quot;,SPHEROID[&quot;Sphere&quot;,6371000.0,0.0]],PRIMEM[&quot;Greenwich&quot;,0.0],UNIT[&quot;Degree&quot;,0.0174532925199433]],PROJECTION[&quot;Mercator&quot;],PARAMETER[&quot;False_Easting&quot;,0.0],PARAMETER[&quot;False_Northing&quot;,0.0],PARAMETER[&quot;Central_Meridian&quot;,0.0],PARAMETER[&quot;Standard_Parallel_1&quot;,0.0],UNIT[&quot;Meter&quot;,1.0]]&lt;/WKT&gt;
		&lt;XOrigin&gt;-20015200&lt;/XOrigin&gt;
		&lt;YOrigin&gt;-30207300&lt;/YOrigin&gt;
		&lt;XYScale&gt;149089777.218437&lt;/XYScale&gt;
		&lt;ZOrigin&gt;-100000&lt;/ZOrigin&gt;
		&lt;ZScale&gt;10000&lt;/ZScale&gt;
		&lt;MOrigin&gt;-100000&lt;/MOrigin&gt;
		&lt;MScale&gt;10000&lt;/MScale&gt;
		&lt;XYTolerance&gt;1.34147359887038E-08&lt;/XYTolerance&gt;
		&lt;ZTolerance&gt;0.0002&lt;/ZTolerance&gt;
		&lt;MTolerance&gt;0.0002&lt;/MTolerance&gt;
		&lt;HighPrecision&gt;true&lt;/HighPrecision&gt;
	&lt;/SpatialReference&gt;
&lt;TileOrigin xsi:type='typens:PointN'&gt;
	&lt;X&gt;-20015086.8&lt;/X&gt;
	&lt;Y&gt;20015086.8&lt;/Y&gt;
 &lt;/TileOrigin&gt;
	&lt;TileCols&gt;256&lt;/TileCols&gt;
	&lt;TileRows&gt;256&lt;/TileRows&gt;
	&lt;DPI&gt;96&lt;/DPI&gt;
&lt;LODInfos xsi:type='typens:ArrayOfLODInfo'&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;0&lt;/LevelID&gt;&lt;Scale&gt;590996657.362812&lt;/Scale&gt;&lt;Resolution&gt;156367.865593911&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;1&lt;/LevelID&gt;&lt;Scale&gt;295498328.681406&lt;/Scale&gt;&lt;Resolution&gt;78183.9327969554&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;2&lt;/LevelID&gt;&lt;Scale&gt;147749164.340703&lt;/Scale&gt;&lt;Resolution&gt;39091.9663984777&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;3&lt;/LevelID&gt;&lt;Scale&gt;73874582.1703515&lt;/Scale&gt;&lt;Resolution&gt;19545.9831992388&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;4&lt;/LevelID&gt;&lt;Scale&gt;36937291.0851758&lt;/Scale&gt;&lt;Resolution&gt;9772.99159961942&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;5&lt;/LevelID&gt;&lt;Scale&gt;18468645.5425879&lt;/Scale&gt;&lt;Resolution&gt;4886.49579980971&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;6&lt;/LevelID&gt;&lt;Scale&gt;9234322.77129394&lt;/Scale&gt;&lt;Resolution&gt;2443.24789990485&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;7&lt;/LevelID&gt;&lt;Scale&gt;4617161.38564697&lt;/Scale&gt;&lt;Resolution&gt;1221.62394995243&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;8&lt;/LevelID&gt;&lt;Scale&gt;2308580.69282348&lt;/Scale&gt;&lt;Resolution&gt;610.811974976214&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;9&lt;/LevelID&gt;&lt;Scale&gt;1154290.34641174&lt;/Scale&gt;&lt;Resolution&gt;305.405987488107&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;10&lt;/LevelID&gt;&lt;Scale&gt;577145.173205871&lt;/Scale&gt;&lt;Resolution&gt;152.702993744053&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;11&lt;/LevelID&gt;&lt;Scale&gt;288572.586602936&lt;/Scale&gt;&lt;Resolution&gt;76.3514968720267&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;12&lt;/LevelID&gt;&lt;Scale&gt;144286.293301468&lt;/Scale&gt;&lt;Resolution&gt;38.1757484360134&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;13&lt;/LevelID&gt;&lt;Scale&gt;72143.1466507339&lt;/Scale&gt;&lt;Resolution&gt;19.0878742180067&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;14&lt;/LevelID&gt;&lt;Scale&gt;36071.5733253669&lt;/Scale&gt;&lt;Resolution&gt;9.54393710900334&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;15&lt;/LevelID&gt;&lt;Scale&gt;18035.7866626835&lt;/Scale&gt;&lt;Resolution&gt;4.77196855450167&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;16&lt;/LevelID&gt;&lt;Scale&gt;9017.89333134174&lt;/Scale&gt;&lt;Resolution&gt;2.38598427725083&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;17&lt;/LevelID&gt;&lt;Scale&gt;4508.94666567087&lt;/Scale&gt;&lt;Resolution&gt;1.19299213862542&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;18&lt;/LevelID&gt;&lt;Scale&gt;2254.47333283543&lt;/Scale&gt;&lt;Resolution&gt;0.596496069312709&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;19&lt;/LevelID&gt;&lt;Scale&gt;1127.23666641772&lt;/Scale&gt;&lt;Resolution&gt;0.298248034656354&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;20&lt;/LevelID&gt;&lt;Scale&gt;563.618333208859&lt;/Scale&gt;&lt;Resolution&gt;0.149124017328177&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;21&lt;/LevelID&gt;&lt;Scale&gt;281.809166604429&lt;/Scale&gt;&lt;Resolution&gt;0.0745620086640886&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;LODInfo xsi:type='typens:LODInfo'&gt;&lt;LevelID&gt;22&lt;/LevelID&gt;&lt;Scale&gt;140.904583302215&lt;/Scale&gt;&lt;Resolution&gt;0.0372810043320443&lt;/Resolution&gt;&lt;/LODInfo&gt;
&lt;/LODInfos&gt;
&lt;/TileCacheInfo&gt;</pre></td></tr>
   </table>
               
           
</body>
</html>
